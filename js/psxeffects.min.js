PSX={};PSX.Util={};PSX.Util.isArray=function(e){return typeof e=="object"&&e instanceof Array};PSX.Util.copyArray=function(e,t,n,r,i){n=typeof n=="undefined"?0:n;r=typeof r=="undefined"?0:r;i=typeof i=="undefined"?e.length:i;i=Math.min(i,e.length-n,t.length-r);for(var s=0;s<i;s++){t[r+s]=e[n+s]}};PSX.Util.clamp0255=function(e){return e>255?255:e<0?0:e};PSX.Util.clamp=function(e,t,n){return e<t?t:e>n?n:e};PSX.Util.mix=function(e,t,n){return e*(1-n)+t*n};PSX.Util.sqr=function(e){return e*e};PSX.Util.smoothstep=function(e,t,n){e=PSX.Util.clamp((e-t)/(n-t),0,1);return e*e*(3-2*e)};PSX.Util.cloneImageData=function(e){var t,n;t=document.createElement("canvas");t.width=e.width;t.height=e.height;n=t.getContext("2d");n.putImageData(e,0,0);return n.getImageData(0,0,e.width,e.height)};PSX.Util.getImageDataById=function(e){var t=document.getElementById(e);var n=t.width;var r=t.height;var i=document.createElement("canvas");i.width=n;i.height=r;var s=i.getContext("2d");s.drawImage(t,0,0);var o=s.getImageData(0,0,n,r);return o};PSX.Util.convolution=function(e,t,n){var r=t;if(r==e){r=PSX.Util.copyImageData(e)}var i=kernal.length;var s=kernal[0].length;if(r!=t){t=PSX.Util.copyImageData(r)}};PSX.Util.resize=function(e,t,n){if(e.width==t.width&&e.height==t.height){copyArray(e.data,t.data);return}n=typeof n=="undefined"?"BILINEAR":n;var r=1*e.width/t.width;var i=1*e.height/t.height;if(n=="NEARST"){var s=new Array;var o=new Array;for(var u=0;u<t.width;u++){s[u]=Math.round(u*r)}for(var a=0;a<t.width;a++){o[a]=Math.round(a*i)}for(var a=0;a<t.width;a++){var f=o[a]*e.width*4;var l=a*t.width*4;for(var u=0;u<t.width;u++){var c=f+s[u]*4;for(var h=0;h<4;h++){t.data[l++]=e.data[c++]}}}}else{var p=function(e,t){var n=new Array;n[0]=e*r;n[1]=t*i;return n};for(var a=0;a<t.width;a++){var l=a*t.width*4;for(var u=0;u<t.width;u++){var d=p(u,a);var v=d[0];var m=d[1];var g=Math.floor(v);var y=Math.floor(m);var b=v-g;var w=1-b;var E=m-y;var S=1-E;if(g<0||y<0||g>=e.width||y>=e.height){l+=4;continue}var x=(g+y*e.width)*4;var T=x+4;var N=x+e.width*4;var C=N+4;for(var h=0;h<4;h++){var k=e.data[x++]*w+e.data[T++]*b;var L=e.data[N++]*w+e.data[C++]*b;t.data[l++]=k*S+L*E}}}}};PSX.Image={};PSX.Image.Mode={};PSX.Image.Mode.rgb2gray=function(e,t){var n=e.data.length;for(var r=0;r<n;r+=4){var i=(e.data[r]>>2)+(e.data[r+1]>>1)+(e.data[r+2]>>2);for(var s=0;s<3;s++){t.data[r+s]=i}}};PSX.Image.Mode.rgb2yuv=function(e,t){var n=t;if(n==e){n=PSX.Util.cloneImageData(e)}var r=e.data.length;for(var i=0;i<r;i+=4){n.data[i]=PSX.Util.clamp0255(e.data[i]*.257+e.data[i+1]*.504+e.data[i+2]*.098+16);n.data[i+1]=PSX.Util.clamp0255(e.data[i]*.439-e.data[i+1]*.368-e.data[i+2]*.071+128);n.data[i+2]=PSX.Util.clamp0255(-(e.data[i]*.148)-e.data[i+1]*.291+e.data[i+2]*.439+128)}if(n!=t){PSX.Util.copyArray(n.data,t.data)}};PSX.Image.Mode.yuv2rgb=function(e,t){var n=t;if(n==e){n=PSX.Util.cloneImageData(e)}var r=e.data.length;for(var i=0;i<r;i+=4){var s=1.164*(e.data[i]-16);n.data[i]=PSX.Util.clamp0255(s+2.018*(e.data[i+1]-128));n.data[i+1]=PSX.Util.clamp0255(s-.813*(e.data[i+2]-128)-.391*(e.data[i+1]-128));n.data[i+2]=PSX.Util.clamp0255(s+1.596*(e.data[i+2]-128))}if(n!=t){PSX.Util.copyArray(n.data,t.data)}};PSX.Image.Mode.rgb2hsv=function(e,t){var n=e.data.length;for(var r=0;r<n;r+=4){var i=e.data[r]/255;var s=e.data[r+1]/255;var o=e.data[r+2]/255;var u=Math.max(i,Math.max(s,o));var a=u==0?0:1-Math.min(i,Math.min(s,o))/u;var f=0;if(u==i){f=60*(s-o)/a}else if(u==s){f=120+60*(o-i)/a}else{f=240+60*(i-s)/a}if(f<0){f+=360}t.data[r]=f/2;t.data[r+1]=a*255;t.data[r+2]=u*255}};PSX.Image.Mode.hsv2rgb=function(e,t){var n=e.data.length;for(var r=0;r<n;r+=4){var i=e.data[r]*2;var s=e.data[r+1];var o=e.data[r+2];var u=i/60;var a=floor(u)%6;var f=u-floor(u);var l=o*(255-s)/255;var c=o*(255-f*s)/255;var h=o*(255-(1-f)*s)/255;var p=[[o,h,l],[c,o,l],[l,o,h],[l,c,o],[h,l,o],[o,l,c]];t.data[r]=p[a][r];t.data[r+1]=p[a][r+1];t.data[r+2]=p[a][r+2]}};PSX.Image.Mode.rgb2hsl=function(e,t){var n=e.data.length;for(var r=0;r<n;r+=4){var i=0,s=0,o=0;var u=e.data[r]/255;var a=e.data[r+1]/255;var f=e.data[r+2]/255;var l=Math.max(u,Math.max(a,f));var c=Math.min(u,Math.min(a,f));if(l==c){i=0}else if(l==u){i=60*(a-f)/(l-c)}else if(l==a){i=60*(f-u)/(l-c)+120}else if(l==f){i=60*(u-a)/(l-c)+240}if(i<0){i+=360}o=(l+c)/2;if(l==c){s=0}else if(o<.5){s=(l-c)/(l+c)}else if(o>=.5){s=(l-c)/(2-l-c)}t.data[r]=i/2;t.data[r+1]=s*255;t.data[r+2]=o*255}};PSX.Image.Adjustment={};PSX.Image.Adjustment.desaturate=function(e,t){var n=e.data.length;for(var r=0;r<n;r+=4){var i=e.data[r];var s=e.data[r+1];var o=e.data[r+2];var u=Math.min(o,s,i);var a=Math.max(o,s,i);u=(u+a)/2;t.data[r]=u;t.data[r+1]=u;t.data[r+2]=u}};PSX.Image.Adjustment.invertColor=function(e,t){var n=e.data.length;for(var r=0;r<n;r+=4){for(var i=0;i<3;i++){t.data[r+i]=255-e.data[r+i]}}};PSX.Image.Adjustment.posterize=function(e,t,n){n=typeof n!="undefined"?n:4;var r=e.width*e.height*4;for(var i=0;i<r;i+=4){for(var s=0;s<3;s++){t.data[i+s]=Math.floor(e.data[i+s]/255*(n-1)+.5)/(n-1)*255}}};PSX.Image.Adjustment.threshold=function(e,t,n){n=typeof n!="undefined"?n:128;var r=e.width*e.height*4;for(var i=0;i<r;i+=4){for(var s=0;s<3;s++){t.data[i+s]=e.data[i+s]>n?255:0}}};PSX.Image.Adjustment.mapping=function(e,t,n){var r=e.width*e.height*4;if(n.length==3){for(var i=0;i<r;i+=4){for(var s=0;s<3;s++){t.data[i+s]=n[s][e.data[i+s]]}}}else{for(var i=0;i<r;i+=4){for(var s=0;s<3;s++){t.data[i+s]=n[e.data[i+s]]}}}};PSX.Image.Adjustment.level=function(e,t,n,r){var i=255/(r-n);var s=new Array;for(var o=0;o<256;o++){if(o<n){s[o]=0}else if(o>r){s[o]=255}else{s[o]=(o-n)*i}}mapping(e,t,s)};PSX.Image.Adjustment.gradientmap=function(e,t,n){var r=t;if(e==r){r=PSX.Util.cloneImageData(e)}PSX.Image.Mode.rgb2gray(e,r);mapping(e,r,n);if(r!=t){t=PSX.Util.cloneImageData(r)}};PSX.Image.Adjustment.curve=function(e,t,n){var r=function(e){var t=new Array;var r=new Array;for(var i=0;i<n.length;i++){r[i]=new Array}r[0][1]=1;for(var i=1;i<count-1;i++){r[i][0]=(e[i][0]-e[i-1][0])/6;r[i][1]=(e[i+1][0]-e[i-1][0])/3;r[i][2]=(e[i+1][0]-e[i][0])/6;result[i]=(1*e[i+1][1]-e[i][1])/(e[i+1][0]-e[i][0])-(e[i][1]-e[i-1][1])/(e[i][0]-e[i-1][0])}r[count-1][1]=1;for(var i=1;i<count;i++){var s=r[i][0]/r[i-1][1];r[i][1]-=s*r[i-1][2];r[i][0]=0;result[i]-=s*result[i-1]}for(var i=count-2;i>=0;i--){var s=r[i][2]/r[i+1][1];r[i][1]-=s*r[i+1][0];r[i][2]=0;result[i]-=s*result[i+1]}for(var i=0;i<count;i++){t[i]=result[i]/r[i][1]}return t};var i=function(e){var t=new Array;for(var n=0;n<count-1;n++){if(e[n][0]>e[n+1][0]){return nil}}var i=0;var s=count-1;while(e[++i][0]==e[0][0]){}i--;while(e[--s][0]==e[count-1][0]){}s++;var o=r(e.slice(i,s));for(var n=0;n<e[0][0];n++){t[n]=e[0][1]}for(var n=e[count-1][0];n<256;n++){t[n]=e[count-1][1]}var u=function(e){return e*e*e-e};for(var n=0;n<count-1;n++){var a=e[n+1][0]-e[n][0];for(var f=e[n][0];f<e[n+1][0];f++){var l=(f-e[n][0])/a;t[f]=l*e[n+1][1]+(1-l)*e[n][1]+a*a*(u(l)*o[n+1]+u(1-l)*o[n])/6}}return t};var s=t;if(e==s){s=PSX.Util.cloneImageData(e)}var o=i(n);mapping(e,s,o);if(s!=t){t=PSX.Util.cloneImageData(s)}};PSX.Filter={};PSX.Filter.Stylize={};PSX.Filter.Stylize.solarize=function(e,t){var n=e.width*e.height*4;for(var r=0;r<n;r+=4){for(var i=0;i<3;i++){var s=e.data[r+i];t.data[r+i]=s<128?s:255-s}}};PSX.Filter.Stylize.emboss=function(e,t){var n=t;if(n==e){n=PSX.Util.cloneImageData(e)}var r=4;var i=e.width*r;for(var s=1;s<e.height-1;s++){var o=r+s*i;var u=o-i-r;var a=o+i+r;var f=r+s*i;for(var l=1;l<e.width-1;l++){for(var c=0;c<3;c++){n.data[f+c]=PSX.Util.clamp0255(e.data[u]*2-e.data[o]-e.data[a]+128)}o+=4;u+=4;a+=4;f+=4}o=s*i;f=o+i-4;for(var c=0;c<3;c++){n.data[f++]=n.data[f-4];n.data[o++]=n.data[o+4]}}var h=n.data.length;var p=h-i;for(var d=0;d<n.width*4;d++){n.data[d]=n.data[d+i];n.data[p++]=n.data[p-i]}if(n!=t){PSX.Util.copyArray(n.data,t.data)}};PSX.Filter.Other={};PSX.Filter.Other.minimum=function(e,t,n){var r=t;if(e==r){r=PSX.Util.cloneImageData(e)}var i=(n<<1)+1;if(r!=t){t=PSX.Util.cloneImageData(r)}};PSX.Layer={};_blendNormal=function(e,t){return e};_blendLighten=function(e,t){return t>e?t:e};_blendDarken=function(e,t){return t>e?e:t};_blendMultiply=function(e,t){return e*t/255};_blendAverage=function(e,t){return(e+t)/2};_blendAdd=function(e,t){return Math.min(255,e+t)};_blendSubtract=function(e,t){return e+t<255?0:e+t-255};_blendDifference=function(e,t){return Math.abs(e-t)};_blendNegation=function(e,t){return 255-Math.abs(255-e-t)};_blendScreen=function(e,t){return 255-((255-e)*(255-t)>>8)};_blendExclusion=function(e,t){return e+t-2*e*t/255};_blendOverlay=function(e,t){return t<128?2*e*t/255:255-2*(255-e)*(255-t)/255};_blendSoftLight=function(e,t){return t<128?2*((e>>1)+64)*(t/255):255-2*(255-((e>>1)+64))*float(255-t)/255};_blendHardLight=function(e,t){return _blendOverlay(t,e)};_blendColorDodge=function(e,t){return t==255?t:Math.min(255,(e<<8)/(255-t))};_blendColorBurn=function(e,t){return t==0?t:Math.max(0,255-(255-e<<8)/t)};_blendLinearDodge=function(e,t){return _blendAdd(e,t)};_blendLinearBurn=function(e,t){return _blendSubtract(e,t)};_blendLinearLight=function(e,t){return t<128?_blendLinearBurn(e,2*t):_blendLinearDodge(e,2*(t-128))};_blendVividLight=function(e,t){return t<128?_blendColorBurn(e,2*t):_blendColorDodge(e,2*(t-128))};_blendPinLight=function(e,t){return t<128?_blendDarken(e,2*t):_blendLighten(e,2*(t-128))};_blendHardMix=function(e,t){return _blendVividLight(e,t)<128?0:255};_blendReflect=function(e,t){return t==255?t:Math.min(255,e*e/(255-t))};_blendGlow=function(e,t){return _blendReflect(t,e)};_blendPhoenix=function(e,t){return Math.min(e,t)-Math.max(e,t)+255};_blendAlpha=function(e,t,n){return n*e+(1-n)*t};_blending=function(e,t,n,r){var i=n.width*n.height*4;for(var s=0;s<i;s+=4){for(var o=0;o<3;o++){n.data[s+o]=r(t.data[s+o],e.data[s+o])}}};PSX.Layer.blendNormal=function(e,t,n){_blending(e,t,n,_blendNormal)};PSX.Layer.blendLighten=function(e,t,n){_blending(e,t,n,_blendLighten)};PSX.Layer.blendDarken=function(e,t,n){_blending(e,t,n,_blendDarken)};PSX.Layer.blendMultiply=function(e,t,n){_blending(e,t,n,_blendMultiply)};PSX.Layer.blendAverage=function(e,t,n){_blending(e,t,n,_blendAverage)};PSX.Layer.blendAdd=function(e,t,n){_blending(e,t,n,_blendAdd)};PSX.Layer.blendSubtract=function(e,t,n){_blending(e,t,n,_blendSubtract)};PSX.Layer.blendDifference=function(e,t,n){_blending(e,t,n,_blendDifference)};PSX.Layer.blendNegation=function(e,t,n){_blending(e,t,n,_blendNegation)};PSX.Layer.blendScreen=function(e,t,n){_blending(e,t,n,_blendScreen)};PSX.Layer.blendExclusion=function(e,t,n){_blending(e,t,n,_blendExclusion)};PSX.Layer.blendOverlay=function(e,t,n){_blending(e,t,n,_blendOverlay)};PSX.Layer.blendSoftLight=function(e,t,n){_blending(e,t,n,_blendSoftLight)};PSX.Layer.blendHardLight=function(e,t,n){_blending(e,t,n,_blendHardLight)};PSX.Layer.blendColorDodge=function(e,t,n){_blending(e,t,n,_blendColorDodge)};PSX.Layer.blendColorBurn=function(e,t,n){_blending(e,t,n,_blendColorBurn)};PSX.Layer.blendLinearDodge=function(e,t,n){_blending(e,t,n,_blendLinearDodge)};PSX.Layer.blendLinearBurn=function(e,t,n){_blending(e,t,n,_blendLinearBurn)};PSX.Layer.blendLinearLight=function(e,t,n){_blending(e,t,n,_blendLinearLight)};PSX.Layer.blendVividLight=function(e,t,n){_blending(e,t,n,_blendVividLight)};PSX.Layer.blendPinLight=function(e,t,n){_blending(e,t,n,_blendPinLight)};PSX.Layer.blendHardMix=function(e,t,n){_blending(e,t,n,_blendHardMix)};PSX.Layer.blendReflect=function(e,t,n){_blending(e,t,n,_blendReflect)};PSX.Layer.blendGlow=function(e,t,n){_blending(e,t,n,_blendGlow)};PSX.Layer.blendPhoenix=function(e,t,n){_blending(e,t,n,_blendPhoenix)};PSX.Layer.blendAlpha=function(e,t,n,r){var i=src.width*src.height*4;for(var s=0;s<i;s+=4){for(var o=0;o<3;o++){r.data[s+o]=_blendAlpha(forground.data[s+o],e.data[s+o],n)}r.data[s+3]=255}};PSX.Layer.blendLuminosity=function(e,t,n){};PSX.Layer.blendColor=function(e,t,n){};PSX.Layer.blendHue=function(e,t,n){};PSX.Layer.blendSaturation=function(e,t,n){};PSX.Layer.test=function(e,t,n){var r=PSX.Util.getImageDataById("vignette");var i=PSX.Util.cloneImageData(e);PSX.Util.resize(r,i);switch(n){case"blendOverlay":PSX.Layer.blendOverlay(t,i,t);break}};PSX.Filter.Convolution={};PSX.Filter.Convolution.main=function(e,t,n){var r=Math.round(Math.sqrt(n.length));var i=Math.floor(r/2);var s=e.width;var o=e.height;var u=PSX.Util.cloneImageData(e);for(var a=0;a<o;++a){for(var f=0;f<s;++f){var l=(a*s+f)*4;var c=0,h=0,p=0,d=0;for(var v=0;v<r;++v){for(var m=0;m<r;++m){var g=f+m-i;var y=a+v-i;if(g>=0&&g<s&&y>=0&&y<o){var b=(y*s+g)*4;var w=n[v*r+m];c+=e.data[b]*w;h+=e.data[b+1]*w;p+=e.data[b+2]*w}}}u.data[l]=c;u.data[l+1]=h;u.data[l+2]=p;u.data[l+3]=255}}PSX.Util.copyArray(u.data,t.data)};PsxEffects={};PsxEffects.initialize=function(){function e(e,t,n){var r=new Object;r.width=t;r.height=n;r.filename=e;return r}var t=[e("vignette.jpg",512,512),e("sketch_classic.jpg",968,1296),e("canvas_text.png",600,337),e("steve_jobs.jpg",600,337),e("border1.png",600,337)];var n="./PsxEffects/resource/";for(var r=0,i=t.length;r<i;r++){var s=t[r].filename.substr(0,t[r].filename.length-4);document.write('<img id="'+s+'" src="'+n+t[r].filename+'" width="'+t[r].width+'" height ="'+t[r].height+'" style="display:none" />')}};PsxEffects.Color={};PsxEffects.Color.blackwhite=function(e,t){PSX.Image.Adjustment.desaturate(e,t)};PsxEffects.Color.invertColor=function(e,t){PSX.Image.Adjustment.invertColor(e,t)};PsxEffects.Color.solarize=function(e,t){PSX.Filter.Stylize.solarize(e,t)};PsxEffects.Color.emboss=function(e,t){PSX.Filter.Stylize.emboss(e,t)};PsxEffects.Color.infrared=function(e,t){var n=[[],[],[]];for(var r=0;r<128;r++){n[0][r]=r<<1;n[1][r]=0;n[2][r]=255-n[0][r];n[0][r+128]=n[2][r];n[1][r+128]=n[0][r];n[2][r+128]=0}PSX.Image.Adjustment.mapping(e,t,n)};PsxEffects.Color.tonetuner=function(e,t,n){var r=n[0];var i=n[1];var s=n[2];var o=r*-.168736+i*-.331264+s*.5+128;var u=r*.5+i*-.418688+s*-.081312+128;PSX.Image.Mode.rgb2yuv(e,t);var a=e.data.length;for(var f=0;f<a;f+=4){t.data[f+1]=u;t.data[f+2]=o}PSX.Image.Mode.yuv2rgb(t,t)};PsxEffects.Color.sepia=function(e,t){var n=[160,130,100];PsxEffects.Color.tonetuner(e,t,n)};PsxEffects.Color.bluetone=function(e,t){var n=[162,200,240];PsxEffects.Color.tonetuner(e,t,n)};PsxEffects.Color.greentone=function(e,t){var n=[162,229,188];PsxEffects.Color.tonetuner(e,t,n)};PsxEffects.ColorShift={};PsxEffects.ColorShift.colorshift=function(e,t,n,r){var i=t;if(i==e){i=PSX.Util.cloneImageData(e)}var s=PSX.Util.cloneImageData(e);PSX.Image.Mode.rgb2hsv(e,s);PSX.Image.Mode.rgb2gray(e,i);n/=2;r/=2;var o=e.data.length;for(var u=0;u<o;u+=4){var a=Math.abs(s.data[u]-n);if(a<r||a>180-r){for(var f=0;f<4;f++){i.data[u+f]=e.data[u+f]}}}if(i!=t){PSX.Util.copyArray(i.data,t.data)}};PsxEffects.ColorShift.color1=function(e,t){PsxEffects.ColorShift.colorshift(e,t,36,36)};PsxEffects.ColorShift.color2=function(e,t){PsxEffects.ColorShift.colorshift(e,t,108,36)};PsxEffects.ColorShift.color3=function(e,t){PsxEffects.ColorShift.colorshift(e,t,180,36)};PsxEffects.ColorShift.color4=function(e,t){PsxEffects.ColorShift.colorshift(e,t,252,36)};PsxEffects.ColorShift.color5=function(e,t){PsxEffects.ColorShift.colorshift(e,t,324,36)};PsxEffects.Convolution={};PsxEffects.Convolution.edgedetect=function(e,t){var n=[-1,-1,-1,-1,8,-1,-1,-1,-1];PSX.Filter.Convolution.main(e,t,n)};PsxEffects.Convolution.sharpen=function(e,t){var n=[-1,-1,-1,-1,9,-1,-1,-1,-1];PSX.Filter.Convolution.main(e,t,n)};PsxEffects.Convolution.unsharpen=function(e,t){var n=[-1,-1,-1,-1,17,-1,-1,-1,-1];PSX.Filter.Convolution.main(e,t,n)};PsxEffects.Convolution.emboss=function(e,t){var n=[2,0,0,0,-1,0,0,0,-1];PSX.Filter.Convolution.main(e,t,n)};PsxEffects.Convolution.blur=function(e,t){var n=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9];PSX.Filter.Convolution.main(e,t,n)};PsxEffects.Deform={};PsxEffects.Deform.mirror=function(e,t,n){if(t!=e){PSX.Util.copyArray(e.data,t.data)}var r=function(e,t){var n=e.width*4;for(var r=0;r<e.height;r++){var i=r*e.width*4;for(var s=0;s<n/2;s+=4){for(var o=0;o<4;o++){t.data[i+n-s-4+o]=t.data[i+s+o]}}}};var i=function(e,t){var n=e.width*4;for(var r=0;r<e.height;r++){var i=r*e.width*4;for(var s=0;s<n/2;s+=4){for(var o=0;o<4;o++){t.data[i+s+o]=t.data[i+n-s-4+o]}}}};var s=function(e,t){var n=e.width*4;var r=0;var i=t.data.length-n;for(var s=0;s<e.height/2;s++){PSX.Util.copyArray(e.data,t.data,r,i,n);r+=n;i-=n}};var o=function(e,t){var n=e.width*4;var r=0;var i=t.data.length-n;for(var s=0;s<e.height/2;s++){PSX.Util.copyArray(e.data,t.data,i,r,n);i-=n;r+=n}};switch(n){case"left2right":r(e,t);break;case"right2left":i(e,t);break;case"top2bottom":s(e,t);break;case"bottom2top":o(e,t);break}};PsxEffects.Deform.reshaper=function(e,t,n){var r=t;if(r==e){r=PSX.Util.cloneImageData(e)}var i=function(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])};for(var s=0;s<r.width;s++){var o=s*r.width*4;for(var u=0;u<r.width;u++){var a=[2*u/e.width-1,2*s/e.height-1];var f=i(a);var l=Math.atan2(a[1],a[0]);var c=n(f,l);f=c[0];l=c[1];var h=f*Math.cos(l);var p=f*Math.sin(l);var d=(h+1)/2*e.width;var v=(p+1)/2*e.height;var m=Math.floor(d);var g=Math.floor(v);var y=d-m;var b=1-y;var w=v-g;var E=1-w;if(m<0||g<0||m>=e.width||g>=e.height){o+=4;continue}var S=(m+g*e.width)*4;var x=S+4;var T=S+e.width*4;var N=T+4;for(var C=0;C<4;C++){var k=e.data[S++]*b+e.data[x++]*y;var L=e.data[T++]*b+e.data[N++]*y;r.data[o++]=k*E+L*w}}}if(r!=t){PSX.Util.copyArray(r.data,t.data)}};PsxEffects.Deform.fisheye=function(e,t){var n=1.5;var r=function(e,t){return[Math.pow(e,n)/Math.sqrt(2),t]};PsxEffects.Deform.reshaper(e,t,r)};PsxEffects.Deform.shrink=function(e,t){var n=1.8;var r=.8;var i=function(e,t){return[Math.pow(e,1/n)*r,t]};PsxEffects.Deform.reshaper(e,t,i)};PsxEffects.Deform.swirl=function(e,t){var n=.5;var r=4;var i=function(e,t){t=t+(1-PSX.Util.smoothstep(e,-n,n))*r;return[e,t]};PsxEffects.Deform.reshaper(e,t,i)};PsxEffects.Deform.wave=function(e,t){};PsxEffects.Deform.mosaic=function(e,t){var n=10;var r=e.width*4;var i=0;for(var s=0;s<e.height;s++){if(s%n==0){for(var o=0;o<e.width;o++){if(o%n==0){for(var u=0;u<4;u++){t.data[i+u]=e.data[i+u]}}else{for(var u=0;u<4;u++){t.data[i+u]=t.data[i-4+u]}}i+=4}}else{PSX.Util.copyArray(t.data,t.data,i-r,i,r);i+=r}}};PsxEffects.Funny={};PsxEffects.Funny.poster=function(){};PsxEffects.Instagram={};PsxEffects.Instagram.instagram=function(e,t,n){PSX.Image.Adjustment.mapping(e,t,n);var r=PSX.Util.getImageDataById("vignette");var i=PSX.Util.cloneImageData(e);PSX.Util.resize(r,i)};PsxEffects.Instagram.instagram10=function(e,t){var n=[[39,39,39,39,39,39,39,39,39,39,39,38,38,39,40,41,41,42,41,42,42,43,43,44,44,45,44,45,46,47,47,48,48,49,49,50,50,51,53,54,54,55,56,57,58,59,59,60,62,63,64,65,66,67,68,69,70,71,74,75,77,78,80,81,81,83,86,88,89,90,92,94,96,99,101,102,103,104,106,109,111,113,114,115,117,119,121,124,126,128,130,131,133,134,136,137,140,141,143,144,146,147,148,150,152,154,156,157,159,160,162,163,165,166,167,168,169,170,171,172,174,175,176,177,178,179,181,182,181,182,183,184,185,186,186,187,188,189,189,190,191,192,192,193,194,195,195,196,196,197,198,199,198,199,199,200,201,202,202,203,203,204,205,206,207,208,207,208,209,210,210,211,211,212,214,215,216,217,217,218,220,221,222,223,223,224,225,226,227,228,229,230,231,232,234,235,236,237,239,240,241,242,243,244,245,246,247,248,250,251,252,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253,253],[0,0,0,0,0,0,0,0,1,2,1,2,4,5,6,7,8,9,11,12,15,16,18,19,21,24,26,28,30,31,33,34,36,39,41,44,46,47,49,50,52,55,57,60,63,65,67,69,72,75,76,79,82,85,88,91,92,95,98,101,103,106,107,110,112,115,117,120,122,125,126,129,133,136,138,139,141,144,146,149,151,154,156,157,159,160,162,164,166,169,171,172,173,174,176,177,179,180,180,181,183,184,186,187,189,190,190,191,192,193,194,195,195,196,197,198,199,200,200,201,201,202,203,204,204,205,206,207,207,208,207,208,209,210,210,211,212,213,212,213,214,215,216,217,217,218,218,219,220,221,222,223,223,224,224,225,225,226,227,228,229,230,229,230,231,232,233,234,234,235,234,235,236,237,237,238,238,239,239,240,239,240,241,242,242,243,242,243,243,244,244,245,244,245,245,246,245,246,246,247,247,248,248,249,248,249,249,249,249,249,249,250,250,251,251,250,250,251,251,252,251,252,252,253,253,253,253,253,253,252,252,253,253,254,254,253,253,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],[0,0,0,3,8,12,16,19,23,28,32,35,38,41,45,48,51,54,57,60,62,65,68,71,73,76,77,80,83,85,87,89,91,94,95,98,100,103,105,106,108,109,112,113,115,116,118,119,122,123,125,126,128,129,131,132,133,134,137,138,138,139,140,141,142,143,146,147,147,148,149,150,152,153,153,154,154,155,156,157,158,159,160,161,161,162,163,164,164,165,166,167,167,168,168,169,169,170,171,172,172,173,172,173,174,175,175,176,177,178,177,178,178,179,179,180,180,181,181,182,181,182,182,183,183,184,184,185,185,186,186,187,187,186,186,187,187,188,188,189,189,190,190,191,191,190,190,191,191,192,192,193,193,194,194,193,193,194,194,195,194,195,195,196,196,196,196,196,196,197,196,197,197,198,198,199,198,199,199,199,199,199,199,200,199,200,200,201,200,201,201,202,202,201,201,202,202,203,202,203,203,204,203,204,204,205,204,205,205,205,205,205,205,206,206,207,206,207,207,208,207,208,208,209,208,209,209,210,209,210,210,211,211,212,212,212,212,211,211,212,212,213,212,213,213,214,214,215,214,215,215,216,215,216,216,217]];PsxEffects.Instagram.instagram(e,t,n)};PsxEffects.Instagram.instagram9=function(e,t){var n=[[0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,2,2,3,3,4,3,4,5,6,6,7,7,8,10,11,12,13,13,14,17,18,18,19,22,23,23,24,26,27,29,30,33,34,35,36,38,39,41,42,44,47,49,50,52,55,57,60,62,63,65,68,71,74,75,78,80,83,87,90,93,96,98,101,105,108,111,114,116,119,120,123,126,129,131,134,136,139,141,144,146,147,149,150,153,154,156,157,159,162,164,167,169,170,172,173,175,176,178,179,181,182,184,185,187,188,189,190,192,193,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,214,215,217,218,218,219,220,221,220,221,222,223,224,225,224,225,226,227,228,229,229,230,230,231,231,232,231,232,233,234,234,235,235,236,235,236,236,237,238,239,239,239,239,239,240,241,240,241,241,242,242,243,243,244,244,243,243,244,244,245,244,245,245,246,246,247,247,246,246,247,247,248,247,248,248,249,248,249,249,250,249,250,250,251,251,250,250,251,251,251,251,251,251,252,252,251,251,252,252,253,253,252,252,253,253,254,254,253,253,254,254,255],[0,0,0,0,0,0,0,1,1,2,2,2,2,1,1,2,3,4,5,6,5,6,8,9,9,10,11,12,12,13,14,15,15,16,19,20,20,21,22,23,23,24,26,27,28,29,29,30,32,33,33,34,36,37,39,40,40,41,44,45,45,46,48,49,50,51,54,55,57,58,59,60,62,63,66,67,68,69,71,73,75,78,80,81,83,84,86,88,91,94,96,97,99,102,104,107,109,110,112,115,117,120,121,124,126,129,132,134,136,137,139,142,144,146,148,150,152,153,155,156,159,160,162,163,165,166,169,170,171,172,173,174,176,177,179,180,182,183,184,185,187,188,190,191,192,193,194,195,197,198,199,200,201,202,203,204,204,205,206,207,209,210,210,211,212,213,214,215,215,216,216,217,218,219,220,221,221,222,222,223,224,225,225,226,226,227,227,228,229,230,229,230,230,231,232,233,233,234,234,235,235,236,236,237,237,238,237,238,238,239,239,240,240,241,241,242,241,242,243,244,244,243,243,244,244,245,245,246,246,247,247,248,247,248,248,249,248,249,249,250,250,251,251,250,250,251,251,252,252,253,252,253,253,254,254,254],[0,0,0,0,1,2,1,2,4,5,7,8,9,10,12,14,16,17,17,18,21,22,24,25,27,28,29,30,32,33,35,36,36,37,38,39,42,43,44,45,45,46,48,49,51,52,52,53,54,55,57,58,58,59,61,62,63,64,65,66,67,68,69,70,70,71,73,74,74,75,77,78,79,80,80,81,82,83,84,85,86,87,87,88,89,90,90,91,92,93,93,94,95,96,96,97,98,99,99,100,101,102,102,103,104,105,106,107,108,109,109,110,110,111,112,113,114,115,116,117,118,119,120,121,121,122,123,124,124,125,126,127,128,129,130,131,132,133,133,134,136,137,138,139,140,141,143,144,145,146,147,148,148,149,150,151,152,153,155,156,157,158,160,161,162,163,165,166,166,167,167,168,170,171,173,174,175,176,177,178,178,179,181,182,183,184,185,186,188,189,189,190,191,192,194,195,197,198,198,199,200,201,203,204,204,205,207,208,208,209,210,211,213,214,214,215,216,217,219,220,221,222,223,224,224,225,227,228,228,229,230,231,233,234,234,235,236,237,238,239,241,242,242,243,244,245,246,247,247,248,250,251,251,252,253,254]];PsxEffects.Instagram.instagram(e,t,n)};PsxEffects.Instagram.instagram8=function(e,t){var n=[[3,3,3,3,3,3,3,2,2,3,4,5,5,5,5,5,6,7,6,7,7,8,10,11,12,13,15,16,17,18,20,21,23,24,26,28,30,33,35,36,38,40,42,45,47,50,51,54,56,58,60,62,64,67,69,71,73,75,78,80,82,83,85,87,89,92,95,97,99,100,102,104,106,108,110,111,113,114,116,119,121,122,124,125,127,128,130,131,134,135,136,137,138,139,141,142,143,144,145,146,147,148,149,150,152,153,154,155,156,157,158,159,159,160,161,162,163,164,165,166,167,168,168,169,169,170,171,172,173,174,174,175,175,176,177,178,179,180,181,182,183,184,183,184,185,186,187,188,189,190,191,192,192,193,193,194,196,197,197,198,199,200,201,202,202,203,204,205,206,207,207,208,208,209,210,211,212,213,214,215,215,216,217,218,218,219,219,220,221,222,222,223,223,224,225,226,227,228,228,229,229,230,231,232,232,233,233,234,234,235,235,236,236,237,237,238,239,240,240,241,240,241,242,243,243,244,244,245,244,245,245,246,247,248,248,249,248,249,249,250,250,251,251,252,252,253,253,253,253,253,253,253,253,253,253,253],[3,3,3,3,3,3,3,2,2,3,4,5,4,5,5,6,6,6,6,5,5,6,8,9,11,12,12,13,15,16,18,19,20,21,23,25,27,29,30,31,33,35,38,40,42,43,45,47,49,52,53,56,58,61,63,64,66,68,71,74,76,77,79,80,82,84,87,89,91,92,94,97,99,102,104,105,107,108,110,113,115,116,117,118,120,121,123,124,127,128,130,131,133,134,135,136,138,139,140,141,142,143,145,146,148,149,149,150,151,152,153,154,155,156,157,158,159,160,161,162,162,163,164,165,166,167,168,169,169,170,171,172,172,173,173,174,175,176,177,178,179,180,180,181,182,183,184,185,186,187,187,188,188,189,190,191,192,193,193,194,195,196,197,198,199,200,200,201,202,203,203,204,204,205,206,207,208,209,209,210,210,211,212,213,214,215,215,216,216,217,218,219,219,220,220,221,222,223,223,224,225,226,226,227,227,228,229,230,229,230,230,231,232,233,233,234,234,235,235,236,236,237,237,238,238,239,239,240,240,241,241,242,242,243,242,243,243,244,244,245,245,246,246,247,246,247,248,249,248,249,250,251,250,251,251,252],[4,4,4,5,5,6,5,6,6,7,9,10,11,12,12,13,14,15,17,18,20,21,22,24,26,28,30,32,34,36,37,39,41,43,45,46,48,51,53,55,57,59,61,64,66,67,69,71,74,76,78,80,82,85,87,89,91,93,95,96,98,99,102,103,105,107,109,111,113,114,116,118,120,122,122,123,125,126,129,130,132,133,135,136,137,138,139,140,143,144,144,145,146,147,148,149,151,152,153,154,155,156,156,157,158,159,160,161,162,163,164,165,165,166,167,168,169,170,170,171,172,173,173,174,175,176,177,178,178,179,179,180,180,181,182,183,184,185,186,187,188,189,189,190,191,192,193,194,194,195,196,197,197,198,199,200,200,201,202,203,204,205,206,207,207,208,209,210,210,211,211,212,213,214,215,216,216,217,216,217,218,219,220,221,221,222,222,223,224,225,225,226,226,227,227,228,229,230,230,231,231,232,232,233,233,234,234,235,235,236,236,237,238,239,238,239,239,240,241,242,242,243,242,243,243,244,244,245,245,246,246,247,246,247,247,248,248,249,249,250,249,250,250,251,251,252,252,253,253,253,253,253,253,253,253,253]];PsxEffects.Instagram.instagram(e,t,n)};PsxEffects.Instagram.instagram7=function(e,t){var n=[[1,2,2,3,3,4,4,5,8,11,14,17,20,23,25,28,30,33,34,37,40,43,44,47,49,51,53,55,58,61,63,65,67,69,71,73,75,77,79,80,82,84,86,88,90,91,93,94,97,98,100,101,104,105,107,108,110,113,115,116,118,119,120,121,123,126,128,129,130,131,132,133,136,137,139,140,141,142,144,145,147,148,149,150,152,153,154,155,157,158,160,161,161,162,163,164,165,166,167,168,169,170,171,172,173,174,174,175,176,177,178,179,179,180,181,182,183,184,183,184,185,186,186,187,188,189,189,190,190,191,190,191,191,192,193,194,194,195,195,196,196,197,197,198,198,199,199,200,200,201,201,202,201,202,202,203,203,204,204,205,204,205,205,206,206,207,207,208,208,209,209,210,210,211,211,210,210,211,211,212,212,213,213,214,214,215,215,214,214,215,215,216,216,217,217,218,217,218,218,219,219,220,220,221,220,221,221,222,222,221,221,222,222,223,223,224,224,225,224,225,225,226,226,227,227,227,227,226,226,225,225,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226,226],[0,0,0,0,0,0,0,0,0,0,0,0,0,3,9,14,18,22,25,28,31,34,39,42,46,49,51,54,57,60,61,64,67,70,72,75,77,80,82,85,87,89,91,93,95,97,99,101,103,104,106,107,109,112,114,115,116,117,120,121,123,124,126,127,128,129,132,133,134,135,137,138,140,141,142,143,144,145,146,147,149,150,151,152,152,153,154,155,156,157,158,159,159,160,161,162,163,164,164,165,165,166,166,167,169,170,170,171,172,173,172,173,173,174,175,176,176,177,178,179,179,180,180,181,181,182,183,184,184,185,185,186,186,187,187,188,188,189,189,190,191,192,192,193,193,194,194,195,195,196,196,197,197,198,198,199,199,200,201,202,201,202,202,203,203,204,204,205,205,206,206,207,207,208,207,208,208,209,208,209,209,210,210,211,211,212,211,212,212,213,213,214,214,213,213,214,214,215,214,215,215,216,215,216,216,217,216,217,217,218,218,218,218,217,217,218,218,219,218,219,219,220,219,220,220,221,220,221,221,222,221,222,222,223,223,222,222,223,223,224,224,224,224,224,224,223,223,224,224,225,225,224,224,225,225,226],[28,29,32,35,37,39,41,42,44,47,49,50,51,52,54,57,59,61,63,64,66,67,68,70,72,74,75,76,78,79,82,83,84,85,87,88,90,91,93,94,95,96,99,100,101,102,105,106,107,108,110,111,112,113,115,116,118,119,121,122,124,125,126,127,128,129,132,133,134,135,137,138,140,141,142,143,144,145,146,147,149,150,151,152,153,154,155,156,158,159,159,160,161,162,163,164,165,166,167,168,168,169,169,170,172,173,173,174,175,176,177,178,178,179,179,180,180,181,182,183,183,184,185,186,185,186,186,187,187,188,188,189,190,191,191,192,191,192,192,193,193,194,195,196,196,197,196,197,197,198,198,199,199,200,199,200,200,201,201,202,202,203,202,203,203,204,204,205,204,205,205,206,206,207,207,207,207,207,207,208,208,209,208,209,209,210,209,210,210,211,211,212,212,211,211,212,212,213,212,213,213,214,213,214,214,215,214,215,215,216,215,216,216,217,217,217,217,216,216,217,217,218,218,217,217,218,218,219,218,219,219,220,219,220,220,221,220,221,221,222,222,222,222,222,222,221,221,222,222,223,223,222,222,223,223,224]];PsxEffects.Instagram.instagram(e,t,n)};PsxEffects.Instagram.instagram6=function(e,t){var n=[[6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,5,5,4,5,4,4,4,5,6,6,5,5,4,4,4,4,4,4,3,3,3,3,3,2,2,3,3,2,2,2,3,2,3,3,4,4,5,5,6,8,10,12,15,18,19,19,20,22,25,28,30,32,34,36,39,41,44,46,49,51,54,58,61,63,65,67,70,72,75,79,82,84,87,89,92,95,98,99,102,105,108,109,112,115,118,122,125,127,129,131,134,137,140,142,144,146,147,149,152,154,157,159,161,163,164,166,169,171,173,174,175,176,177,180,181,183,184,187,188,190,191,192,193,195,196,198,199,200,201,203,204,205,206,207,208,208,209,210,211,212,213,214,215,216,217,218,219,219,220,220,221,221,222,223,224,224,225,226,227,226,227,227,228,229,230,230,231,231,232,231,232,232,233,233,234,234,235,235,236,236,237,237,238,237,238,238,239,239,240,240,241,240,241,241,242,241,242,242,243,243,244,244,245,244,245,245,246,246,247,246,247,247,248,248,247,247,248,248,249,249,250,250,250,250,250,250,251,251,252,251,252,252,253,253,254,254,254],[9,10,10,11,10,11,12,13,12,13,14,15,15,16,17,18,17,18,19,20,20,21,22,23,25,26,26,27,28,29,31,32,32,33,35,36,38,39,39,40,42,43,45,46,47,48,50,51,53,54,55,56,59,60,62,63,64,65,68,69,70,71,72,73,75,76,79,80,82,83,84,85,88,89,91,92,93,94,96,97,100,101,102,103,104,105,107,108,111,112,113,114,117,118,118,119,121,122,123,124,126,127,129,130,133,134,135,136,138,139,140,141,142,143,145,146,147,148,150,151,153,154,154,155,157,158,159,160,161,162,163,164,165,166,167,168,170,171,171,172,174,175,176,177,179,180,180,181,182,183,185,186,186,187,187,188,190,191,192,193,193,194,195,196,198,199,199,200,200,201,202,203,204,205,206,207,207,208,208,209,210,211,211,212,212,213,213,214,215,216,217,218,217,218,219,220,220,221,222,223,222,223,224,225,224,225,226,227,227,228,227,228,229,230,230,231,231,232,232,233,233,234,234,235,235,236,236,237,236,237,237,238,238,239,239,240,240,241,241,242,242,243,243,244,243,244,245,246,245,246,246,247,246,247,247,248],[12,12,12,13,14,15,16,17,16,17,17,18,19,20,21,22,22,23,24,25,25,26,26,27,28,29,29,30,33,34,34,35,37,38,38,39,41,42,44,45,45,46,47,48,50,51,51,52,55,56,56,57,59,60,61,62,63,64,66,67,68,69,70,71,73,74,75,76,77,78,79,80,82,83,84,85,86,87,88,89,91,92,92,93,94,95,96,97,99,100,101,102,102,103,104,105,106,107,108,109,110,111,112,113,115,116,116,117,118,119,120,121,122,123,123,124,125,126,127,128,129,130,131,132,133,134,135,136,135,136,136,137,138,139,140,141,142,143,144,145,145,146,147,148,149,150,151,152,153,154,154,155,155,156,156,157,158,159,160,161,162,163,163,164,165,166,167,168,168,169,170,171,172,173,172,173,174,175,175,176,177,178,179,180,179,180,180,181,182,183,184,185,185,186,186,187,188,189,189,190,190,191,192,193,193,194,193,194,194,195,196,197,197,198,198,199,200,201,200,201,201,202,202,203,203,204,205,206,206,207,206,207,207,208,208,209,209,210,210,211,211,212,211,212,212,213,213,214,214,215,215,216,216,217,217,218]];PsxEffects.Instagram.instagram(e,t,n)};PsxEffects.Instagram.instagram5=function(e,t){var n=[[0,0,0,0,0,0,0,0,0,1,1,2,1,2,2,3,4,5,5,6,6,7,9,10,12,13,14,15,15,16,16,17,18,19,22,23,23,24,26,27,27,28,30,31,31,32,34,35,37,38,40,41,42,43,46,47,49,50,52,53,55,56,58,59,61,63,65,67,69,70,71,73,75,77,79,80,82,84,86,89,91,93,95,96,98,99,101,103,105,107,109,110,112,113,115,117,119,121,123,124,126,127,128,130,132,135,137,138,140,141,143,144,146,147,149,150,151,152,155,156,158,159,161,162,163,164,166,167,168,169,170,171,172,173,175,176,177,178,180,181,181,182,184,185,187,188,188,189,190,191,193,194,195,196,195,196,198,199,200,201,201,202,203,204,205,206,206,207,208,209,209,210,211,212,212,213,214,215,215,216,217,218,218,219,219,220,220,221,222,223,222,223,224,225,225,226,226,227,227,228,229,230,230,231,231,232,232,233,233,234,234,235,236,237,236,237,237,238,238,239,239,240,239,240,240,241,242,243,243,244,244,245,244,245,245,246,246,247,247,248,248,249,248,249,249,250,250,251,251,252,251,252,252,253,253,254],[0,0,0,0,0,0,1,2,1,2,2,3,4,5,5,6,6,7,9,10,10,11,12,13,15,16,17,18,19,20,20,21,23,24,24,25,28,29,29,30,32,33,35,36,36,37,39,40,42,43,44,45,47,50,52,53,55,56,58,59,61,62,65,66,68,69,71,72,75,76,78,80,82,84,86,87,89,91,93,95,97,98,100,101,103,104,106,108,110,113,115,117,118,119,121,122,124,125,127,128,130,131,133,136,138,140,142,143,145,146,147,148,150,151,153,154,156,157,158,159,161,162,164,165,167,168,169,170,171,172,173,174,176,177,177,178,180,181,182,183,184,185,186,187,189,190,190,191,192,193,195,196,196,197,197,198,199,200,201,202,203,204,205,206,207,208,208,209,209,210,211,212,212,213,213,214,215,216,216,217,218,219,219,220,220,221,221,222,223,224,223,224,225,226,226,227,227,228,228,229,229,230,231,232,232,233,232,233,233,234,234,235,236,237,236,237,237,238,239,240,239,240,240,241,241,242,242,243,243,244,244,245,244,245,245,246,246,247,247,248,248,249,248,249,249,250,250,251,251,252,252,253,252,253,253,254],[1,2,2,3,5,6,6,7,7,7,7,7,9,10,11,12,12,13,14,15,16,17,17,18,19,20,21,22,22,23,24,25,24,25,28,29,29,30,32,33,34,35,36,37,38,39,41,42,43,44,44,45,48,49,51,52,53,54,56,59,61,62,63,64,65,67,69,71,73,74,76,79,81,83,85,86,87,88,90,93,95,97,99,100,102,103,105,108,110,112,114,115,117,118,120,121,123,124,127,128,130,131,133,135,137,140,142,143,144,145,147,148,150,151,153,154,156,157,158,159,161,162,164,165,167,168,169,170,171,172,173,174,176,177,178,179,180,181,183,184,184,185,187,188,189,190,190,191,193,194,195,196,196,197,197,198,199,200,202,203,203,204,205,206,207,208,208,209,209,210,211,212,213,214,213,214,215,216,216,217,218,219,219,220,220,221,221,222,223,224,223,224,224,225,226,227,227,228,228,229,229,230,231,232,232,233,232,233,233,234,234,235,236,237,236,237,237,238,239,240,239,240,240,241,241,242,242,243,243,244,244,245,244,245,245,246,246,247,247,248,248,249,248,249,249,250,250,251,251,252,252,253,252,253,253,254]];PsxEffects.Instagram.instagram(e,t,n)};PsxEffects.Instagram.instagram4=function(e,t){var n=[[12,13,15,16,17,18,19,20,22,23,24,25,26,27,29,30,32,33,33,34,36,37,38,39,41,42,44,45,47,48,49,50,52,53,54,55,57,58,60,61,63,64,66,67,68,69,71,72,75,76,78,79,81,83,85,87,89,90,93,94,96,97,99,100,102,104,106,108,110,111,113,115,117,120,122,123,125,126,129,130,132,134,136,138,139,140,142,144,146,149,151,152,153,154,156,157,159,160,161,162,165,166,168,169,172,173,174,175,177,178,180,181,182,183,185,186,188,189,189,190,192,193,194,195,196,197,199,200,200,201,202,203,203,204,206,207,208,209,209,210,211,212,213,214,215,216,216,217,218,219,219,220,220,221,221,222,223,224,223,224,225,226,226,227,228,229,228,229,229,230,230,231,232,233,232,233,233,234,234,235,235,236,236,237,237,238,237,238,238,239,239,240,240,241,241,242,241,242,242,243,242,243,243,244,244,245,244,245,245,246,245,246,246,247,247,248,248,249,249,248,248,249,249,250,249,250,250,251,251,251,251,250,250,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,251,250,250,249,249,250],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,5,8,11,14,18,22,26,29,31,34,38,41,43,45,47,50,54,56,58,60,64,67,69,71,73,76,79,82,84,86,88,89,91,94,97,100,102,103,105,107,109,112,114,115,117,118,120,123,125,127,129,130,132,133,135,138,140,142,144,145,146,147,149,150,152,153,155,156,158,159,160,161,164,165,167,168,168,169,171,172,173,174,176,177,177,178,180,181,182,183,184,185,186,187,188,189,190,191,190,191,193,194,195,196,196,197,198,199,200,201,202,203,202,203,204,205,206,207,207,208,208,209,209,210,211,212,213,214,213,214,215,216,216,217,217,218,218,219,219,220,220,221,222,223,222,223,223,224,224,225,225,226,226,227,227,228,227,228,228,229,229,230,230,231,232,232,232,232,232,233,233,234,234,235,235,236,236,237,236,237,237,238,237,238,238,239,239,240,240,241,241,242,242,241,241,242,242,243,243,244,244,245,244,245,245,246,246,247,247,246,246,247,247,248,248,249,248,249,249,250,250,251,251,252],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,3,7,10,12,15,19,22,23,26,30,32,34,36,38,41,44,47,49,50,52,55,57,60,62,63,65,68,70,72,74,76,78,80,82,83,85,88,90,92,94,95,97,98,100,102,105,107,109,110,112,113,115,118,120,121,123,124,126,127,128,129,132,133,135,136,138,139,141,142,144,145,145,146,148,149,151,152,155,156,157,158,159,160,162,163,164,165,167,168,169,170,171,172,173,174,176,177,177,178,179,180,181,182,183,184,184,185,186,187,188,189,190,191,191,192,193,194,195,196,196,197,198,199,200,201,201,202,202,203,203,204,204,205,206,207,207,208,208,209,209,210,210,211,211,212,213,214,213,214,214,215,215,216,216,217,217,218,218,219,218,219,219,220,220,221,221,222,222,223,222,223,223,224,223,224,224,225,225,226,226,227,227,227,227,227,227,228,228,229,229,230,229,230,230,231,231,232,232,231,231,232,232,233,232,233,233,234,233,234,234,235,235,236,236,236,236,235,235,236,236,237,236,237,237,238,237,238,238,239]];PsxEffects.Instagram.instagram(e,t,n)};PsxEffects.Instagram.instagram3=function(e,t){var n=[[3,4,5,7,10,13,14,17,19,22,25,28,31,34,36,39,41,44,46,49,52,55,59,62,65,68,70,73,76,79,82,85,87,90,94,97,99,102,105,108,109,112,117,120,121,123,125,128,131,134,135,138,140,143,145,148,149,152,154,156,158,159,162,163,165,166,168,171,173,174,175,176,179,180,181,182,184,185,186,187,189,190,191,192,193,194,195,196,197,198,199,200,201,202,202,203,204,205,206,207,207,208,208,209,210,211,212,213,212,213,214,215,215,216,216,217,217,218,218,219,219,220,220,221,221,222,222,221,221,222,222,223,223,224,224,225,225,226,226,225,225,226,226,227,227,228,228,229,228,229,229,230,230,231,231,231,231,230,230,231,231,232,231,232,232,233,232,233,233,234,233,234,234,234,234,234,234,235,235,234,234,235,235,236,236,235,235,236,236,237,237,236,236,237,237,238,238,238,238,238,238,238,238,238,238,237,237,238,238,239,239,239,239,238,238,239,239,240,240,240,240,239,239,240,240,241,241,241,241,240,240,241,241,242,242,242,242,242,242,241,241,241,241,242,242,242,242,241,241,242,242,243,243,243,243,243],[0,0,0,0,0,1,3,6,8,11,14,17,20,23,27,30,32,35,37,40,42,45,49,52,54,57,59,62,66,69,71,74,77,80,82,85,88,91,93,96,98,101,104,107,109,110,112,115,118,120,122,124,126,129,131,134,135,138,140,143,145,147,149,150,151,153,155,157,159,160,163,164,166,167,169,170,171,172,174,175,177,178,180,181,182,183,183,184,186,187,189,190,189,190,191,192,193,194,195,196,196,197,197,198,200,201,201,202,203,204,203,204,204,205,206,207,207,208,208,209,208,209,209,210,211,212,212,213,212,213,213,214,214,215,214,215,215,216,216,217,217,218,217,218,218,219,219,220,220,219,219,220,220,221,220,221,221,222,222,223,222,223,223,224,223,224,224,225,225,225,225,224,224,225,225,226,225,226,226,227,227,226,226,227,227,228,227,228,228,229,229,228,228,229,229,230,230,230,230,230,230,230,230,230,230,229,229,230,230,231,231,230,230,231,231,232,232,232,232,231,231,232,232,233,233,233,233,232,232,233,233,234,234,234,234,234,234,233,233,234,234,235,235,235,235,235,235,235,235,235,235,235,235,235,235,235],[35,36,38,41,44,47,49,51,53,54,56,58,60,63,64,67,69,71,73,75,77,80,81,84,86,88,90,91,94,95,97,98,100,103,105,107,109,111,113,114,116,117,120,121,123,124,126,127,130,131,133,134,136,137,139,140,142,143,145,146,148,149,150,151,153,154,155,156,158,159,160,161,162,163,164,165,166,167,169,170,171,172,172,173,174,175,176,177,178,179,179,180,181,182,182,183,183,184,184,185,186,187,187,188,188,189,189,190,190,191,192,193,193,194,194,195,194,195,195,196,196,197,197,198,198,199,198,199,199,200,200,199,199,200,200,201,201,202,202,203,202,203,203,204,204,205,205,204,204,205,205,206,206,205,205,206,206,207,206,207,207,208,208,209,209,208,208,209,209,210,209,210,210,210,210,209,209,210,210,211,211,210,210,211,211,212,212,211,211,212,212,213,213,212,212,213,213,214,214,214,214,214,214,213,213,214,214,215,215,215,215,215,215,215,215,215,215,215,215,214,214,215,215,216,216,216,216,216,216,216,216,215,215,216,216,217,217,217,217,217,217,217,217,216,216,217,217,218,218,218,218,218,218,218,218,218]];PsxEffects.Instagram.instagram(e,t,n)};PsxEffects.Instagram.instagram2=function(e,t){var n=[[0,0,1,4,8,11,14,17,21,24,27,30,34,37,40,43,46,49,50,53,55,58,61,64,66,69,71,74,76,79,81,82,84,87,89,92,94,97,99,100,102,104,106,109,111,113,115,117,119,121,123,125,127,129,131,132,133,134,136,139,141,142,144,145,147,148,151,152,153,154,156,157,160,161,162,163,165,166,168,170,172,173,173,174,176,177,178,179,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,203,204,205,206,207,208,208,209,209,210,211,212,212,213,213,214,214,215,215,216,216,217,217,218,218,219,219,220,220,221,221,222,221,222,223,224,224,225,225,226,226,225,225,226,226,227,227,228,228,229,229,230,230,229,229,230,230,231,230,231,231,232,232,233,233,234,233,234,234,234,234,234,234,235,234,235,235,236,235,236,236,237,236,237,237,238,237,238,238,238,238,238,238,239,238,239,239,240,239,240,240,241,241,240,240,241,241,242,242,241,241,241,241,242,241,242,242,243,243,242,242,243,243,244,244,243,243,244,244,245,245,244,244,245,245,245,245,244,244,244,244,245,245,246],[0,0,1,2,5,8,13,16,19,22,25,28,30,33,35,38,42,45,47,49,51,54,56,59,61,64,65,68,70,73,75,77,79,81,83,85,87,89,91,92,94,97,99,101,103,104,106,107,110,111,113,114,116,119,121,122,124,125,128,129,131,132,134,135,137,138,141,142,144,145,147,148,150,151,153,154,156,157,159,160,161,162,164,165,167,168,169,170,172,173,174,175,177,178,179,180,181,182,183,184,185,186,186,187,190,191,192,193,193,194,195,196,197,198,199,200,200,201,202,203,203,204,205,206,206,207,208,209,209,210,210,211,211,212,212,213,214,215,215,216,216,217,217,218,218,219,219,220,221,222,221,222,222,223,223,224,224,225,225,226,225,226,226,227,227,228,228,229,229,230,229,230,230,231,230,231,231,232,231,232,232,233,233,234,233,234,234,235,235,234,234,235,235,236,236,237,236,237,237,238,237,238,238,239,238,239,239,239,239,239,239,240,239,240,240,241,240,241,241,242,241,242,242,243,243,242,242,243,243,244,244,244,244,244,244,243,243,244,244,245,244,245,245,246,246,245,245,246,246,247,247,246,246,247,247,248],[0,0,1,2,4,7,9,12,15,18,20,23,25,28,31,34,36,39,41,42,44,47,49,52,54,55,57,59,61,64,66,67,69,71,73,75,77,78,80,81,83,86,88,89,91,92,93,95,97,99,101,102,104,105,108,109,110,111,114,115,117,118,120,121,122,123,126,127,129,130,131,132,134,135,136,137,139,140,142,143,145,146,147,148,149,150,151,152,155,156,157,158,159,160,160,161,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,178,179,180,181,182,183,184,185,185,186,187,188,189,190,191,192,192,193,192,193,194,195,195,196,197,198,199,200,199,200,201,202,202,203,204,205,204,205,205,206,206,207,207,208,209,210,210,211,210,211,211,212,212,213,214,215,214,215,215,216,216,217,216,217,217,218,218,219,219,220,220,221,220,221,221,222,222,221,221,222,222,223,223,224,223,224,224,225,225,226,225,226,226,227,227,227,227,226,226,227,227,228,227,228,228,229,228,229,229,230,229,230,230,231,230,231,231,232,232,232,232,232,232,231,231,232,232,233,233,232,232,233,233,234,234,233,233,234,234,235,235,235,235,235]];PsxEffects.Instagram.instagram(e,t,n)};PsxEffects.Instagram.instagram1=function(e,t){var n=[[0,0,0,0,1,2,2,3,5,6,9,10,12,14,16,18,20,21,24,25,27,28,30,32,34,36,38,40,42,45,47,48,50,53,55,58,60,63,65,68,70,73,75,78,80,83,84,87,91,94,96,99,102,105,107,110,112,115,118,121,123,126,128,130,132,134,138,141,142,143,145,148,150,151,153,154,155,156,158,161,163,164,166,167,169,170,172,173,176,177,179,180,182,183,185,186,187,188,190,191,193,194,195,197,199,201,201,202,204,205,207,208,208,209,211,212,213,214,215,216,217,218,219,220,221,222,222,223,224,225,225,226,227,228,228,229,230,231,232,233,232,233,234,235,235,236,237,238,238,239,239,240,239,240,240,241,242,243,242,243,243,244,244,245,245,246,246,247,247,248,248,247,247,248,248,249,248,249,249,250,250,251,250,251,251,251,251,251,251,252,252,251,251,252,252,253,253,252,252,253,253,254,254,254,254,254,254,254,254,254,254,254,254,253,253,254,254,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255],[0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,3,4,3,4,6,7,7,8,11,14,16,18,19,20,22,24,26,29,32,35,36,39,41,44,46,49,52,55,57,60,62,65,69,72,75,78,82,85,89,92,94,97,102,105,108,111,114,117,120,123,127,130,132,135,137,140,144,147,149,150,152,153,155,158,160,161,163,164,166,167,168,169,172,173,175,176,176,177,179,180,181,182,183,184,185,186,188,189,190,191,192,193,194,195,196,197,197,198,199,200,200,201,201,202,203,204,204,205,206,207,207,208,208,209,209,210,210,211,211,212,212,213,213,214,215,216,215,216,216,217,218,219,219,220,219,220,220,221,221,222,222,223,224,225,224,225,225,226,226,227,227,228,228,229,228,229,229,230,230,231,231,232,232,233,232,233,233,234,233,234,234,235,235,236,236,237,237,238,237,238,238,239,238,239,239,240,240,241,241,242,242,241,241,242,242,243,243,244,243,244,244,245,244,245,245,246,245,246,246,247,247,248,247,248,248,249,249,248,248,249,249,250,250,251,250,251,251,252,251,252,252,253,253,252,252,253,253,254,254,255],[0,0,1,2,4,6,8,11,13,16,19,22,23,26,28,31,33,34,36,39,41,44,45,48,50,52,54,56,58,60,61,63,65,68,70,71,73,74,76,77,79,82,84,85,87,88,90,93,95,96,97,98,101,102,104,105,107,108,110,111,113,114,116,117,118,119,122,123,124,125,126,127,130,131,132,133,134,135,137,138,139,140,141,142,142,143,144,145,147,148,148,149,150,151,151,152,153,154,154,155,156,157,158,159,159,160,161,162,163,164,164,165,165,166,167,168,168,169,170,171,172,173,174,175,174,175,176,177,177,178,179,180,180,181,182,183,183,184,185,186,186,187,188,189,190,191,190,191,192,193,194,195,195,196,196,197,197,198,199,200,200,201,202,203,204,205,205,206,206,207,207,208,209,210,210,211,211,212,212,213,213,214,215,216,216,217,217,218,218,219,219,220,220,221,222,223,224,225,224,225,225,226,227,228,228,229,229,230,230,231,231,232,232,233,233,234,235,236,236,237,236,237,238,239,238,239,240,241,241,242,241,242,243,244,244,245,245,246,246,247,246,247,247,248,248,249,250,251,251,252,252,253,252,253,253,254]];PsxEffects.Instagram.instagram(e,t,n)};PsxEffects.Overlay={};PsxEffects.Overlay.textoverlay=function(e,t){var n=PSX.Util.cloneImageData(e);var r=PSX.Util.getImageDataById("canvas_text");var i=e.width;var s=e.height;var o,u,a;for(var f=0;f<i*s*4;f=f+4){o=e.data[f];u=e.data[f+1];a=e.data[f+2];var l=50;var c=205;if(r.data[f]<l&&r.data[f+1]<l&&r.data[f+2]<l){n.data[f]=o-50;n.data[f+1]=u-50;n.data[f+2]=a-50}else if(r.data[f]>c&&r.data[f+1]<l&&r.data[f+2]<l){n.data[f]=o-50;n.data[f+1]=u;n.data[f+2]=a}else if(r.data[f]<l&&r.data[f+1]>c&&r.data[f+2]<l){n.data[f]=o;n.data[f+1]=u-50;n.data[f+2]=a}else if(r.data[f]<l&&r.data[f+1]<l&&r.data[f+2]>c){n.data[f]=o;n.data[f+1]=u;n.data[f+2]=a-180}else{n.data[f]=o;n.data[f+1]=u;n.data[f+2]=a}}PSX.Util.copyArray(n.data,t.data)};PsxEffects.Overlay.imageoverlay=function(e,t){var n=PSX.Util.cloneImageData(e);var r=PSX.Util.getImageDataById("steve_jobs");var i=e.width;var s=e.height;var o,u,a;for(var f=0;f<i*s*4;f=f+4){o=e.data[f];u=e.data[f+1];a=e.data[f+2];var l=115;var c=40;if(r.data[f]>l&&r.data[f+1]>l&&r.data[f+2]>l){n.data[f]=o;n.data[f+1]=u;n.data[f+2]=a}else{n.data[f]=o-c;n.data[f+1]=u-c;n.data[f+2]=a-c}}PSX.Util.copyArray(n.data,t.data)};PsxEffects.Overlay.border1=function(e,t){var n=PSX.Util.cloneImageData(e);var r=PSX.Util.getImageDataById("border1");var i=e.width;var s=e.height;var o,u,a;var f=50;for(var l=0;l<i*s*4;l=l+4){o=e.data[l];u=e.data[l+1];a=e.data[l+2];if(r.data[l+3]==0){n.data[l]=o;n.data[l+1]=u;n.data[l+2]=a}else{n.data[l]=o-f;n.data[l+1]=u-f;n.data[l+2]=a-f}}PSX.Util.copyArray(n.data,t.data)};PsxEffects.Overlay.border2=function(e,t){var n=PSX.Util.cloneImageData(e);var r=PSX.Util.getImageDataById("border1");var i=e.width;var s=e.height;var o,u,a;var f=10;for(var l=0;l<i*s*4;l=l+4){o=e.data[l];u=e.data[l+1];a=e.data[l+2];var c=.1;if(l%12e3==0)f=Math.random()*100;if(r.data[l+3]==0){n.data[l]=o+o*c;n.data[l+1]=u+u*c;n.data[l+2]=a+a*c}else{n.data[l]=o-f;n.data[l+1]=u-f;n.data[l+2]=a-f}}PSX.Util.copyArray(n.data,t.data)};PsxEffects.Sketch={};PsxEffects.Sketch.sketch1=function(e,t){PSX.Image.Adjustment.desaturate(e,t);var n=PSX.Util.getImageDataById("sketch_classic");var r=PSX.Util.cloneImageData(e);PSX.Util.resize(n,r);PSX.Layer.blendScreen(t,r,t)} 
